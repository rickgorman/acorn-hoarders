{"version":3,"sources":["webpack:///webpack/bootstrap d64090ea3b79c5fe263c","webpack:///./lib/sim.js","webpack:///./lib/board.js","webpack:///./lib/cell.js","webpack:///./lib/null_occupant.js"],"names":["Sim","run","bind","tick","canvas","document","getElementById","width","height","ctx","getContext","board","render","sim","BOARD_WIDTH","CELL_WIDTH","SPRITE_WIDTH","CELL_PADDING","Board","setup","forEach","grid","row","col","push","xOffset","yOffset","cell","callback","console","log","clearRect","e","Cell","xoffset","yoffset","occupant","NullOccupant","fillStyle","fillRect"],"mappings":"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","file":"bundle-sim.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d64090ea3b79c5fe263c","import {\n  BOARD_WIDTH,\n} from './board.js';\n\nimport Board from './board.js';\n\nclass Sim {\n  constructor() {\n    // binds\n    this.run = this.run.bind(this);\n    this.tick = this.tick.bind(this);\n\n    // set up a drawing context\n    this.canvas = document.getElementById('canvas');\n    this.canvas.width = BOARD_WIDTH;\n    this.canvas.height = BOARD_WIDTH;\n    this.ctx = this.canvas.getContext('2d');\n\n    this.board = new Board(this.ctx);\n  }\n\n  run() {\n    // just tick once for now\n    this.tick();\n  }\n\n  tick() {\n    this.board.tick();\n    this.board.render();\n  }\n}\n\n// entry\nconst sim = new Sim();\nsim.run();\n\n\n\n// WEBPACK FOOTER //\n// ./lib/sim.js","import Cell from './cell.js';\n\nexport const BOARD_WIDTH = 800;\nexport const CELL_WIDTH = 20;\nexport const SPRITE_WIDTH = 14;\nexport const CELL_PADDING = (CELL_WIDTH - SPRITE_WIDTH) / 2;\n\nclass Board {\n  constructor(ctx) {\n    // binds\n    this.setup = this.setup.bind(this);\n    this.forEach = this.forEach.bind(this);\n    this.tick = this.tick.bind(this);\n    this.render = this.render.bind(this);\n\n    // store drawing context\n    this.ctx = ctx;\n\n    this.setup();\n  }\n\n  setup() {\n    // set up a 40x40 array of Cells\n    this.grid = [];\n    this.width = CELL_WIDTH;\n    let row;\n    let col;\n    for(row = 0; row < this.width; row++) {\n      this.grid.push([]);\n      for(col = 0; col < this.width; col++) {\n        let xOffset = col * this.width;\n        let yOffset = row * this.width;\n        let cell = new Cell(this.ctx, xOffset, yOffset );\n        this.grid[row].push( cell );\n      }\n    }\n  }\n\n  forEach(callback) {\n    console.log('foreach');\n    let row, col;\n    for(row = 0; row < this.width; row++) {\n      for(col = 0; col < this.width; col++) {\n        callback(this.grid[row][col]);\n      }\n    }\n  }\n\n  tick() {\n    console.log('board tick()');\n  }\n\n  render() {\n    console.log('board render()');\n    // clear entire board\n    this.ctx.clearRect(0, 0, BOARD_WIDTH, BOARD_WIDTH);\n\n    // tick each cell\n\n    // render each cell\n    this.forEach((e) => e.render());\n\n  }\n}\n\nexport default Board;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/board.js","import NullOccupant from './null_occupant';\n\nclass Cell {\n  constructor(ctx, xoffset, yoffset) {\n    // cell is always constructed empty\n    this.occupant = new NullOccupant(this);\n\n    this.xoffset = xoffset;\n    this.yoffset = yoffset;\n    this.ctx = ctx;\n  }\n\n  tick() {\n\n  }\n\n  render() {\n    console.log('cell render()');\n    this.occupant.render();\n  }\n}\n\nexport default Cell;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/cell.js","import {\n  SPRITE_WIDTH,\n  CELL_PADDING\n} from './board.js';\n\nclass NullOccupant {\n  constructor(cell) {\n    this.render = this.render.bind(this);\n\n    this.cell = cell;\n  }\n\n  render() {\n    console.log('null occupant render()');\n    this.cell.ctx.fillStyle = \"#ff3333\";\n    this.cell.ctx.fillRect(\n      this.cell.xoffset + CELL_PADDING,\n      this.cell.yoffset + CELL_PADDING,\n      this.cell.xoffset + CELL_PADDING + SPRITE_WIDTH,\n      this.cell.yoffset + CELL_PADDING + SPRITE_WIDTH\n    );\n  }\n}\n\nexport default NullOccupant;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/null_occupant.js"],"sourceRoot":""}