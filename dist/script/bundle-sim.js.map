{"version":3,"sources":["webpack:///webpack/bootstrap ff9dd5754cf675778fb3","webpack:///./lib/sim.js","webpack:///./lib/board.js","webpack:///./lib/cell.js","webpack:///./lib/null_occupant.js"],"names":["FRAME_RATE","BOARD_WIDTH","GRID_SIZE","Sim","run","bind","tick","canvas","document","getElementById","width","height","ctx","getContext","board","tickHandle","render","requestAnimationFrame","sim","CELL_WIDTH","SPRITE_WIDTH","CELL_PADDING","Board","setup","forEach","grid","row","col","push","yOffset","xOffset","cell","callback","clearRect","e","Cell","xoffset","yoffset","occupant","fillStyle","color","fillRect","NullOccupant"],"mappings":"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","file":"bundle-sim.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ff9dd5754cf675778fb3","\n// speed constants\nconst FRAME_RATE = 60;\n\n// board constants\nexport const BOARD_WIDTH = 800;\nexport const GRID_SIZE = 40;\n\n\nimport Board from './board.js';\n\n\nclass Sim {\n  constructor() {\n    // binds\n    this.run = this.run.bind(this);\n    this.tick = this.tick.bind(this);\n\n    // set up a drawing context\n    this.canvas = document.getElementById('canvas');\n    this.canvas.width = BOARD_WIDTH;\n    this.canvas.height = BOARD_WIDTH;\n    this.ctx = this.canvas.getContext('2d');\n\n    this.board = new Board(this.ctx);\n\n    this.tickHandle = null;\n  }\n\n  run() {\n    // just tick once for now\n    this.tick();\n  }\n\n  tick() {\n    this.board.tick();\n    this.board.render();\n    this.tickHandle = requestAnimationFrame(this.tick);\n    // this.tickHandle = setTimeout(this.tick, 1000/FRAME_RATE);\n  }\n}\n\n// entry\nconst sim = new Sim();\nsim.run();\n\n\n\n// WEBPACK FOOTER //\n// ./lib/sim.js","import Cell from './cell.js';\n\nimport {\n  BOARD_WIDTH,\n  GRID_SIZE\n} from './sim.js';\n\nexport const CELL_WIDTH = 20;\nexport const SPRITE_WIDTH = 18;\nexport const CELL_PADDING = (CELL_WIDTH - SPRITE_WIDTH) / 2;\n\nclass Board {\n  constructor(ctx) {\n    // binds\n    this.setup = this.setup.bind(this);\n    this.forEach = this.forEach.bind(this);\n    this.tick = this.tick.bind(this);\n    this.render = this.render.bind(this);\n\n    // store drawing context\n    this.ctx = ctx;\n\n    this.setup();\n  }\n\n  setup() {\n    // set up an array of Cells\n    this.grid = [];\n    let row;\n    let col;\n    for(row = 0; row < GRID_SIZE; row++) {\n      this.grid.push([]);\n\n      let yOffset = row * CELL_WIDTH;\n\n      for(col = 0; col < GRID_SIZE; col++) {\n        let xOffset = col * CELL_WIDTH;\n        let cell = new Cell(this.ctx, xOffset, yOffset);\n        this.grid[row].push(cell);\n      }\n    }\n  }\n\n  forEach(callback) {\n    let row, col;\n    for(row = 0; row < GRID_SIZE; row++) {\n      for(col = 0; col < GRID_SIZE; col++) {\n        callback(this.grid[row][col]);\n      }\n    }\n  }\n\n  tick() {\n  }\n\n  render() {\n    // clear entire board\n    this.ctx.clearRect(0, 0, BOARD_WIDTH, BOARD_WIDTH);\n\n    // tick each cell\n\n    // render each cell\n    this.forEach((e) => e.render());\n\n  }\n}\n\nexport default Board;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/board.js","import NullOccupant from './null_occupant';\n\nimport {\n  SPRITE_WIDTH,\n  CELL_PADDING,\n} from './board.js';\n\nclass Cell {\n  constructor(ctx, xoffset, yoffset) {\n    // cell is always constructed empty\n    this.occupant = new NullOccupant(this);\n\n    this.xoffset = xoffset;\n    this.yoffset = yoffset;\n    this.ctx = ctx;\n  }\n\n  tick() {\n    this.occupant.tick();\n  }\n\n  render() {\n    this.ctx.fillStyle = this.occupant.color;\n\n    this.ctx.fillRect(\n      this.xoffset + CELL_PADDING,\n      this.yoffset + CELL_PADDING,\n      SPRITE_WIDTH,\n      SPRITE_WIDTH\n    );\n\n  }\n}\n\nexport default Cell;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/cell.js","\nclass NullOccupant {\n  constructor(cell) {\n    this.color = \"#e0e0e0\";\n  }\n\n  tick() {\n    // intentionally left blank\n  }\n}\n\nexport default NullOccupant;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/null_occupant.js"],"sourceRoot":""}